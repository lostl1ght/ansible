#!/bin/bash

case "$1" in
    all) ;;
    *)
        if [[ -z "$1" ]]; then
            echo 'ERROR: no playbook chosen'
        else
            echo "ERROR: playbook '$1' not found"
        fi
        echo 'Usage: run <PLAYBOOK>'
        echo 'Playbooks:'
        echo '  all  Configure everyting'
        exit 1
        ;;
esac

ansible-playbook -i "local.yml" -i "remote.yml" "$1.yml" -e "@secrets.yml"
